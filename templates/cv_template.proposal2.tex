\documentclass[10pt,a4paper,sans]{moderncv}
\moderncvstyle{((( moderncv_style )))}
\moderncvcolor{((( moderncv_color )))}
\usepackage[scale=0.75]{geometry}
\name{((( db.preamble.name.first )))}{((( db.preamble.name.last )))}
\title{CV}
\address{((( db.preamble.address.street )))}{((( db.preamble.address.city )))}{((( db.preamble.country )))}
\phone[mobile]{((( db.preamble.contact.phone )))}
\email{((( db.preamble.contact.mail )))}
\social[github]{((( db.preamble.contact.github )))}
\AfterPreamble{\hypersetup{
  pdfauthor={((( db.preamble.name.first ))) ((( db.preamble.name.last )))},
  pdftitle={CV},
  pdfsubject={Detailed CV produced with moderncv and jinja2},
  urlcolor=blue,
}}
\begin{document}
  \makecvtitle
  %--------------------------------------------------------------------------------------------%
  %                                           Education                                        %
  %--------------------------------------------------------------------------------------------%
  ((* set edu = db.sections | select_by_attr_name("title","Education") *))
  \section{((( edu.title )))}
  ((* for e in edu.entries *))
  \cventry{(((e.dates)))}{(((e.degree)))}{(((e.school)))}{(((e.location)))}{}{(((e.cvlistitems | to_cvlist)))}
  ((* endfor *))
  %--------------------------------------------------------------------------------------------%
  %                                           Publications                                     %
  %--------------------------------------------------------------------------------------------%
  ((* set pubs = db.sections | select_by_attr_name("title","Publications") *))
  \section{((( pubs.title )))}
  ((* for p in pubs.entries *))
  \cvlistitem{(((p.authors | author_filter(1)))), \textit{(((p.title)))}, (((p.journal))), (((p.year))), \href{(((p.url if p.url != none else '')))}{(((p.doi if p.doi != none else '')))}}
  ((* endfor *))
  % Professional Service
  %--------------------------------------------------------------------------------------------%
  %                                           Professional Service                             %
  %--------------------------------------------------------------------------------------------%
  ((* set serv = db.sections | select_by_attr_name("title","Professional Service") *))
  \section{((( serv.title )))}
  ((* for s in serv.entries *))
  \cventry{}{((( s.role )))}{((( s.event )))}{((( s.dates )))}{}{((( s.description )))}
  ((* endfor *))
  %--------------------------------------------------------------------------------------------%
  %                                           Selected Talks                                   %
  %--------------------------------------------------------------------------------------------%
  ((* set pres = db.sections | select_by_attr_name("title","Seminars and Conference Talks") *))
  \section{Selected Oral Presentations}
  ((* for p in pres.entries *))
  ((* if p.selected *))
  \cventry{((( p.dates )))}{((( p.institution )))}{((( p.event )))}{((( p.location )))}{}{((( p.title )))}
  ((* endif *))
  ((* endfor *))
  % Fellowships and Awards
  %--------------------------------------------------------------------------------------------%
  %                                           Fellowships and Awards                           %
  %--------------------------------------------------------------------------------------------%
  ((* set fel = db.sections | select_by_attr_name("title","Research Fellowships") *))
  \section{((( fel.title )))}
  ((* for f in fel.entries *))
  \cventry{(((f.dates)))}{(((f.title)))}{(((f.institution)))}{(((f.location)))}{}{(((f.description)))}
  ((* endfor *))
  %--------------------------------------------------------------------------------------------%
  %                                           Students Mentored                                %
  %--------------------------------------------------------------------------------------------%
  ((* set stu = db.sections | select_by_attr_name("title","Students Mentored") *))
  \section{((( stu.title )))}
  ((* for s in stu.cvitems *))
  \cvlistitem{\textbf{(((s.name)))} (((s.value)))}
  ((* endfor *))
  %--------------------------------------------------------------------------------------------%
  %                                           Teaching                                         %
  %--------------------------------------------------------------------------------------------%
  ((* set tea = db.sections | select_by_attr_name("title", "Teaching Experience") *))
  \section{((( tea.title )))}
  ((* for t in tea.entries *))
  \cventry{(((t.dates)))}{(((t.title)))}{(((t.class)))}{}{}{(((t.description)))}
  ((* endfor *))
  %--------------------------------------------------------------------------------------------%
  %                                           Awards and Honors                                %
  %--------------------------------------------------------------------------------------------%
  ((* set awards = db.sections | select_by_attr_name("title","Honors and Awards") *))
  \section{Honors and Awards}
  ((( awards.cvlistitems | to_cvlist )))
\end{document}
